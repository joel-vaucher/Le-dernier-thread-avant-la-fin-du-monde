<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Thread</title>
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery-3.2.0.min.js"></script>
    <script src="js/jcanvas.min.js"></script>
    <script src="js/block.js"></script>
    <script src="js/thread.js"></script>
    <script src="js/mutex.js"></script>
    <script src="js/semaphore.js"></script>
    <script src="js/barriere.js"></script>
    <script src="js/main.js"></script>
</head>
<body>
    <div id="container">
        <div class="left-half">
            <div class="top-half">
                <canvas id="canvas"></canvas>
            </div>
            <div class="down-half">
				<table border="0">
					<form method="get" onsubmit="return restate();">
						<tr>
						<td colspan="3"><span id="selection"></span><br/></td>
						</tr>
						<tr>
						<td>Name:</td><td colspan="2"> <input type="text" name="strucname" id="strucname"/></td>
						</tr>
						<tr>
						<td>N:</td><td colspan="2"><input type="text" name="strucN" id="strucN"/></td>
						</tr>
						<tr>
							<td>
								<input type="radio" name="state" id="staterien" value="0">
								<span>rien</span>
								<br/>
								<input type="radio" name="state" id="statemutex" value="1">
								<span>mutex</span>
							</td>
							<td>
								<input type="radio" name="state" id="statesemaphore" value="2">
								<span>semaphore</span>
								<br/>
								<input type="radio" name="state" id="statebarrier" value="3">
								<span>barrier</span>
							</td>
							<td><input type="submit" value="restate"/></td>

						</tr>
					</form>
					<tr>
						<td><button onclick="startStop()">start/stop</button></td>
					</tr>
					<tr>
						<td colspan="2">Number of threads: </td><td><input id="spinThreads"type="number" min="2" max="10" step="1" value="3" onchange="changeNbThread()"></td>
					</tr>
				</table>
            </div>
        </div>
        <div class="right-half">
            <p>Bienvenue sur ce projet éducatif sur le fonctionnement des threads</p>
            <p>L'objectif est de pouvoir visualiser le fonctionnement des différentes structures de synchronisation.</p>
            <p>Les structures disponible dans ce programme sont les mutex, les sémaphores et les barrières.</p>
            <p>Chaque cercles bleu représente un thread et chaque ligne noire verticale représente le code associé à ce thread.</p>
            <p>Ils est possible d'ajouter sur les blocs noirs les structures justement proposées.</p>
            <p>En cliquant sur un bloc, celui-ci devient séléctionné et il est possible de modifier son contenu dans la partie en bas de la page.</p>
            <p>Le nom donné à la structure permet de relié plusieurs blocs.</p>
            <p>Les blocs de même structure (mutex, sémaphore, barriere) et de même nom sont relié.</p>
            <p>La valeur N n'a de sens que pour les sémaphore où il représente le nombre de thread maximal avant de se fermer et pour la barrière où il représente le nombre de thread à attendre avant de les libérer.</p>
            <p>Les changement ne se mette à jour uniquement après avoir appuyer sur le bouton restate.</p>
            <p>ATTENTION, il est dangereux de modifier des structures alors qu'elle sont en utilisation</p>
            <p>le bouton start/stop permet de contrôler l'avancée des threads.</p>
            <p>le champ nombre de thread permet changer le nombre de ligne visible</p>
        </div>
    </div>

</body>
</html>
